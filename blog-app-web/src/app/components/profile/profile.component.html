<div class="container pt-5" *ngIf="!loading && user; else loadingOrError">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="profile-card shadow-sm">
        <div class="profile-header text-center">
          <div class="avatar-wrapper">
            <img
              *ngIf="user.profileImageUrl; else initialsAvatar"
              [src]="user.profileImageUrl"
              alt="Profile image"
              class="avatar-img"
            />
            <ng-template #initialsAvatar>
              <div class="avatar-placeholder">
                {{ getInitials() }}
              </div>
            </ng-template>
          </div>

          <h3 class="mt-3 mb-1">
            {{ user.fullName || 'Unnamed user' }}
          </h3>
          <p class="text-muted mb-0">
            {{ user.email }}
          </p>
        </div>

        <hr />

        <div class="profile-body">
          <h5>About</h5>
          <p *ngIf="user.bio && user.bio.trim().length > 0; else noBio">
            {{ user.bio }}
          </p>
          <ng-template #noBio>
            <p class="text-muted fst-italic">
              You haven't added a bio yet.
            </p>
          </ng-template>
        </div>

        <div class="profile-actions text-end">
          <button
            class="btn btn-outline-primary"
            type="button"
            (click)="goToEdit()"
          >
            Edit profile
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loadingOrError>
  <div class="container pt-5 text-center">
    <div *ngIf="loading">Loading profile...</div>
    <div *ngIf="!loading && error" class="text-danger">
      {{ error }}
    </div>
  </div>
</ng-template>
